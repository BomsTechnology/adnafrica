import{o,c as a,a as e,s as z,b as B,w as F,I as R,m as S,n as _,d as r,f as t,v as D,z as J,W as N,X as K,F as V,q as H,t as c,e as M,j as T,_ as P,g as k,u as Q,h as Y,T as Z}from"./app.4eaf8dc0.js";import{u as ee}from"./userServices.140ac9fe.js";import{u as O}from"./announcementServices.887c6dd6.js";import{_ as te}from"./SelectFilter.d9afc6a7.js";import{u as q}from"./categoryServices.efc14ec4.js";import{r as se}from"./TrashIcon.4c73878a.js";import{r as re}from"./HeartIcon.c3e4eab3.js";import{r as oe}from"./MapPinIcon.b740d8ae.js";import{r as A}from"./StarIcon.f0761eb9.js";import{r as le}from"./MegaphoneIcon.fffc2e21.js";import"./index.959372bf.js";import"./index.62ff3478.js";import"./ChevronDownIcon.47424bbb.js";import"./ChevronUpIcon.8fc385af.js";function ae(h,i){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M18.75 12.75h1.5a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5zM12 6a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 6zM12 18a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 18zM3.75 6.75h1.5a.75.75 0 100-1.5h-1.5a.75.75 0 000 1.5zM5.25 18.75h-1.5a.75.75 0 010-1.5h1.5a.75.75 0 010 1.5zM3 12a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 013 12zM9 3.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zM12.75 12a2.25 2.25 0 114.5 0 2.25 2.25 0 01-4.5 0zM9 15.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"})])}function ne(h,i){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M1.72 5.47a.75.75 0 011.06 0L9 11.69l3.756-3.756a.75.75 0 01.985-.066 12.698 12.698 0 014.575 6.832l.308 1.149 2.277-3.943a.75.75 0 111.299.75l-3.182 5.51a.75.75 0 01-1.025.275l-5.511-3.181a.75.75 0 01.75-1.3l3.943 2.277-.308-1.149a11.194 11.194 0 00-3.528-5.617l-3.809 3.81a.75.75 0 01-1.06 0L1.72 6.53a.75.75 0 010-1.061z","clip-rule":"evenodd"})])}function ce(h,i){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M15.22 6.268a.75.75 0 01.968-.432l5.942 2.28a.75.75 0 01.431.97l-2.28 5.941a.75.75 0 11-1.4-.537l1.63-4.251-1.086.483a11.2 11.2 0 00-5.45 5.174.75.75 0 01-1.199.19L9 12.31l-6.22 6.22a.75.75 0 11-1.06-1.06l6.75-6.75a.75.75 0 011.06 0l3.606 3.605a12.694 12.694 0 015.68-4.973l1.086-.484-4.251-1.631a.75.75 0 01-.432-.97z","clip-rule":"evenodd"})])}function ie(h,i){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M15.97 2.47a.75.75 0 011.06 0l4.5 4.5a.75.75 0 010 1.06l-4.5 4.5a.75.75 0 11-1.06-1.06l3.22-3.22H7.5a.75.75 0 010-1.5h11.69l-3.22-3.22a.75.75 0 010-1.06zm-7.94 9a.75.75 0 010 1.06l-3.22 3.22H16.5a.75.75 0 010 1.5H4.81l3.22 3.22a.75.75 0 11-1.06 1.06l-4.5-4.5a.75.75 0 010-1.06l4.5-4.5a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function de(h,i){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}const ue={class:"mt-4 border-b border-gray-200"},he={class:"-mb-px flex flex-wrap bg-white text-center text-sm font-medium text-gray-900"},pe={class:"mr-2"},ge=e("span",{class:"hidden md:block"},"Annonces en ligne",-1),_e=T(" (0) "),xe={class:"mr-2"},fe=e("span",{class:"hidden md:block"},"Annonces expir\xE9es ",-1),me=T(" (0) "),ye={class:"relative w-full overflow-x-auto shadow-md sm:rounded-lg"},be={class:"items-center justify-between p-4 lg:flex"},we={class:"mt-1 items-center space-y-1 lg:flex lg:space-y-0 lg:space-x-2"},ve=e("label",{for:"table-search",class:"sr-only"},"Search",-1),ke={class:"relative"},$e=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"dark:text-gray-400 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),Ce={class:""},Ae={class:"mt-1 flex justify-end lg:mt-0 lg:block"},Se=e("span",{class:"hidden text-sm font-thin lg:block"},"Supprimer",-1),je={class:"dark:text-gray-400 w-full text-left text-sm text-gray-500"},ze={class:"dark:bg-gray-700 dark:text-gray-400 bg-gray-50 text-xs uppercase text-gray-700"},Me={scope:"col",class:"p-4"},Le={class:"flex items-center"},De=e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox",-1),Ve=e("th",{scope:"col",class:"px-6 py-3"},"Ads title",-1),Be=e("th",{scope:"col",class:"px-6 py-3"},"Category",-1),Te=e("th",{scope:"col",class:"px-6 py-3"},"Country",-1),Ue=e("th",{scope:"col",class:"px-6 py-3"},"Price",-1),Ee=e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Edit")],-1),Ie={key:0},Ne={colspan:"6"},Fe={class:"flex w-full items-center justify-center p-3 text-center"},Re={class:"w-4 p-4"},He={class:"flex items-center"},Pe=["onUpdate:modelValue","onChange"],Oe=e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox",-1),qe={scope:"row",class:"whitespace-nowrap px-6 py-4 font-medium text-gray-900"},Ge={class:"px-6 py-4"},We={class:"px-6 py-4"},Xe=["src","alt"],Je={class:"px-6 py-4"},Ke={class:"px-6 py-4 text-right"},Qe=T("view"),Ye={key:2},Ze=e("td",{colspan:"6",class:"p-3 text-center text-2xl font-bold"},[e("span",null,"NO ADS")],-1),et=[Ze],tt={__name:"AccountAds",props:{userId:String},setup(h){const i=h,{chks:j,chkAll:y,errors:x,loading:b,checkAll:l,cleanErrors:$,announcements:f,getAnnouncementUser:g,deleteAnnouncements:p,toogleDeleteArray:u}=O(),{categories:v,getCategories:C}=q(),s=z({online:!0,expired:!1});B(async()=>{await g(i.userId),await C()}),F(i,async(m,d)=>{await g(m.userId),await C()});const w=z({words:"",category:""}),U=R(()=>w.category?f.value.filter(m=>m.title.toLowerCase().includes(w.words.toLowerCase()&&m.category.id==w.category)):f.value.filter(m=>m.title.toLowerCase().includes(w.words.toLowerCase())));function E(m){switch(m){case"expired":s.online=!1,s.expired=!0;break;case"online":s.expired=!1,s.online=!0;break}}return(m,d)=>{const G=S("Error"),W=S("Spin"),X=S("router-link");return o(),a(V,null,[e("div",ue,[e("ul",he,[e("li",pe,[e("button",{onClick:d[0]||(d[0]=n=>E("online")),type:"button",class:_([s.online?"inline-flex  border-2 border-primary-color p-4 text-primary-color":"group inline-flex  border-2 border-transparent p-4 hover:border-secondary-color hover:text-secondary-color"])},[e("span",null,[r(t(ce),{class:_([s.online?"mr-2 h-5 w-5 text-primary-color":"mr-2 h-5 w-5 text-gray-700 group-hover:text-secondary-color"])},null,8,["class"])]),ge,_e],2)]),e("li",xe,[e("button",{onClick:d[1]||(d[1]=n=>E("expired")),type:"button",class:_([s.expired?"inline-flex  border-2 border-primary-color p-4 text-primary-color":"group inline-flex  border-2 border-transparent p-4 hover:border-secondary-color hover:text-secondary-color"]),"aria-current":"page"},[e("span",null,[r(t(ne),{class:_([s.expired?"mr-2 h-5 w-5 text-primary-color":"mr-2 h-5 w-5 text-gray-700 group-hover:text-secondary-color"])},null,8,["class"])]),fe,me],2)])])]),r(G,{errors:t(x),onCleanErrors:t($)},null,8,["errors","onCleanErrors"]),e("div",ye,[e("div",be,[e("div",we,[ve,e("div",ke,[$e,D(e("input",{type:"search",id:"table-search","onUpdate:modelValue":d[2]||(d[2]=n=>w.words=n),class:"dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500 block w-full rounded border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 lg:w-80",placeholder:"Search for items"},null,512),[[J,w.words]])]),e("div",Ce,[r(te,{modelValue:w.category,"onUpdate:modelValue":d[3]||(d[3]=n=>w.category=n),data:t(v),placeholder:"Select category",subCategory:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])])]),e("div",Ae,[e("button",{type:"button",title:"delete",onClick:d[4]||(d[4]=n=>t(p)()),class:"flex items-center justify-between space-x-2 rounded border border-red-500 p-2 text-red-500 hover:bg-red-500 hover:text-white"},[r(t(se),{class:"h-6 w-6"}),Se])])]),e("table",je,[e("thead",ze,[e("tr",null,[e("th",Me,[e("div",Le,[D(e("input",{onChange:d[5]||(d[5]=n=>t(l)()),"onUpdate:modelValue":d[6]||(d[6]=n=>K(y)?y.value=n:null),id:"checkbox-all-search",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500"},null,544),[[N,t(y)]]),De])]),Ve,Be,Te,Ue,Ee])]),e("tbody",null,[t(b)==1?(o(),a("tr",Ie,[e("td",Ne,[e("div",Fe,[r(W,{width:"w-10",height:"h-10",color:"text-primary-color"})])])])):t(U).length!=0?(o(!0),a(V,{key:1},H(t(U),(n,L)=>(o(),a("tr",{key:n.id,class:"border-b bg-white hover:bg-gray-50"},[e("td",Re,[e("div",He,[D(e("input",{"onUpdate:modelValue":I=>t(j)[L].value=I,onChange:I=>t(u)(L),id:"checkbox-table-search-1",type:"checkbox",class:"-600 h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500"},null,40,Pe),[[N,t(j)[L].value]]),Oe])]),e("th",qe,c(n.title),1),e("td",Ge,c(n.category.name),1),e("td",We,[e("img",{src:n.country.image,alt:n.country.name,class:"h-5 w-8 object-cover"},null,8,Xe)]),e("td",Je,c(n.price)+" "+c(n.currency.symbol),1),e("td",Ke,[r(X,{to:{name:"ads.single",params:{id:n.id,slug:n.slug}},class:"dark:text-blue-500 font-medium text-blue-600 hover:underline"},{default:M(()=>[Qe]),_:2},1032,["to"])])]))),128)):(o(),a("tr",Ye,et))])])])],64)}}},st={};function rt(h,i){return"Setting"}const ot=P(st,[["render",rt]]),lt={};function at(h,i){return"Transaction"}const nt=P(lt,[["render",at]]),ct={key:0},it=["src"],dt={class:"absolute top-0 bottom-2 right-4 flex h-6 w-6 items-center justify-center rounded-full bg-black/50 text-sm text-white shadow"},ut={class:"flex h-full grow justify-between px-4"},ht={class:"whitespace-normal text-sm font-bold lg:text-lg"},pt={class:"whitespace-normal text-sm font-semibold text-gray-800 lg:text-lg"},gt={class:"text-xs font-light text-gray-400"},_t={class:"flex items-center space-x-2"},xt={key:0},ft=["src","alt"],mt={class:"flex h-full items-end py-4"},yt={type:"button",title:"Ajouter/Retirer aux favoris",class:"flex h-10 w-10 items-center justify-center rounded-full bg-white shadow hover:scale-95 hover:bg-pink-300 focus:bg-pink-300"},bt={__name:"AccountListAds",props:{userId:String},setup(h){const i=h,{errors:j,loading:y,cleanErrors:x,announcements:b,getAnnouncementUser:l}=O(),{categories:$,getCategories:f}=q();B(async()=>{await l(i.userId),await f()}),F(i,async(u,v)=>{await l(u.userId),await f()});const g=z({words:"",category:""});R(()=>g.category?b.value.filter(u=>u.title.toLowerCase().includes(g.words.toLowerCase()&&u.category.id==g.category)):b.value.filter(u=>u.title.toLowerCase().includes(g.words.toLowerCase())));function p(u){return u.toString().padStart(2,"0")}return(u,v)=>{const C=S("router-link");return o(),a("div",null,[t(y)!=2?(o(),a("div",ct)):t(b).length!=0?(o(!0),a(V,{key:1},H(t(b),s=>(o(),a("div",{key:s.id,class:"h-full w-full items-center rounded-lg border bg-white shadow lg:flex lg:h-36"},[r(C,{to:{name:"ads.single",params:{id:s.id,slug:s.slug}},class:"!relative h-full overflow-hidden"},{default:M(()=>[e("img",{src:s.images[0].path,class:"h-36 w-full rounded-t-lg bg-cover object-cover lg:h-full lg:w-60 lg:rounded-l-lg lg:rounded-tr-none",alt:""},null,8,it),e("span",dt,c(s.images.length),1)]),_:2},1032,["to"]),e("div",ut,[r(C,{to:{name:"ads.single",params:{id:s.id,slug:s.slug}},class:"flex h-full flex-col justify-between py-2"},{default:M(()=>[e("div",null,[e("h1",ht,c(s.title),1),e("h6",pt,c(s.price.toLocaleString("FR"))+" "+c(s.currency.symbol),1)]),e("div",gt,[e("h6",_t,[e("span",null,c(s.category.name),1),s.country?(o(),a("span",xt,[e("img",{src:s.country.image,alt:s.country.name,class:"h-3 w-4 object-cover"},null,8,ft)])):k("",!0)]),e("h6",null,c(s.city.name)+" "+c(s.country.name)+" - "+c(new Date(s.date).toLocaleDateString("fr-FR",{day:"numeric",year:"numeric",month:"long"}))+" \xE0 "+c(`${p(new Date(s.date).getHours())}h${p(new Date(s.date).getMinutes())}`),1)])]),_:2},1032,["to"]),e("div",mt,[e("button",yt,[r(t(re),{class:"h-7 w-7 bg-transparent text-pink-500"})])])])]))),128)):k("",!0)])}}},wt={class:"mt-10 px-4 md:px-28"},vt={class:"flex w-full flex-col items-center justify-between rounded-lg bg-white py-2 px-8 lg:h-48 lg:flex-row"},kt={class:"flex flex-col items-center space-x-2 py-3 px-2 text-center lg:flex-row lg:text-left"},$t={class:"mr-2 h-28 w-28 overflow-hidden rounded-full"},Ct=["src"],At={key:0},St={class:"mt-3 text-center text-xl font-bold text-gray-800 lg:mt-0"},jt={class:"mt-1 text-sm font-semibold text-gray-600"},zt={class:"mt-1 flex items-center justify-center space-x-1 text-xs font-light text-gray-400 lg:justify-start"},Mt={class:"flex justify-center lg:flex-col"},Lt={type:"button",title:"options",class:"flex items-center justify-center space-x-2 rounded border border-primary-color p-2 text-primary-color hover:bg-primary-color hover:text-white"},Dt=e("span",{class:"hidden text-sm font-thin lg:block"},"Options",-1),Vt={class:"mt-1 lg:flex"},Bt={class:"mt-1 flex"},Tt=e("span",{class:"ml-1 text-center text-sm font-semibold text-gray-500 hover:underline"},"10 Avis",-1),Ut={key:0},Et={class:"border-b border-gray-200"},It={class:"-mb-px flex flex-wrap text-center text-sm font-medium text-gray-900"},Nt={class:"mr-2"},Ft=e("span",{class:"hidden md:block"},"Annonces",-1),Rt={class:"mr-2"},Ht=e("span",{class:"hidden md:block"},"Transactions",-1),Pt={class:"mr-2"},Ot=e("span",{class:"hidden md:block"},"Param\xE8tres",-1),qt={class:"relative h-[1000px]"},Gt={key:0},Wt={key:1},Xt={key:2},Jt={key:1,class:"py-8"},ds={__name:"Account",props:{id:String,slug:String},setup(h){const i=h,{errors:j,loading:y,user:x,getUser:b}=ee(),l=z({ads:!0,transaction:!1,setting:!1});B(async()=>{await b(i.id)});const $=Q();function f(g){switch(g){case"ads":l.setting=!1,l.transaction=!1,l.ads=!0;break;case"transaction":l.setting=!1,l.ads=!1,l.transaction=!0;break;case"setting":l.transaction=!1,l.ads=!1,l.setting=!0;break}}return(g,p)=>{const u=S("Spin");return o(),a("div",wt,[e("div",vt,[e("div",kt,[e("div",$t,[t(y)==1?(o(),Y(u,{key:0})):(o(),a("img",{key:1,src:t(x).avatar,class:"h-full w-full bg-cover object-cover",alt:""},null,8,Ct))]),t(y)==2?(o(),a("div",At,[e("h2",St,c(t(x).firstname)+" "+c(t(x).lastname),1),e("h3",jt," A rejoint adnafrica en "+c(new Date(t(x).date).toLocaleDateString("fr-FR",{year:"numeric",month:"long"})),1),e("h4",zt,[r(t(oe),{class:"h-3 w-3"}),e("span",null,c(t(x).location),1)])])):k("",!0)]),e("div",Mt,[e("button",Lt,[r(t(de),{class:"h-6 w-6"}),Dt]),e("span",Vt,[e("span",Bt,[r(t(A),{class:"h-4 w-4 text-orange-400"}),r(t(A),{class:"h-4 w-4 text-orange-400"}),r(t(A),{class:"h-4 w-4 text-orange-400"}),r(t(A),{class:"h-4 w-4 text-orange-400"}),r(t(A),{class:"h-4 w-4 text-gray-400"})]),Tt])])]),t($).user&&t(x).id===t($).user.id?(o(),a("div",Ut,[e("div",Et,[e("ul",It,[e("li",Nt,[e("button",{onClick:p[0]||(p[0]=v=>f("ads")),type:"button",class:_([l.ads?"inline-flex rounded-t-lg border-b-2 border-primary-color p-4 text-primary-color":"group inline-flex rounded-t-lg border-b-2 border-transparent p-4 hover:border-secondary-color hover:text-secondary-color"])},[e("span",null,[r(t(le),{class:_([l.ads?"mr-2 h-5 w-5 text-primary-color":"mr-2 h-5 w-5 text-gray-700 group-hover:text-secondary-color"])},null,8,["class"])]),Ft],2)]),e("li",Rt,[e("button",{onClick:p[1]||(p[1]=v=>f("transaction")),type:"button",class:_([l.transaction?"inline-flex rounded-t-lg border-b-2 border-primary-color p-4 text-primary-color":"group inline-flex rounded-t-lg border-b-2 border-transparent p-4 hover:border-secondary-color hover:text-secondary-color"]),"aria-current":"page"},[e("span",null,[r(t(ie),{class:_([l.transaction?"mr-2 h-5 w-5 text-primary-color":"mr-2 h-5 w-5 text-gray-700 group-hover:text-secondary-color"])},null,8,["class"])]),Ht],2)]),e("li",Pt,[e("button",{onClick:p[2]||(p[2]=v=>f("setting")),type:"button",class:_([l.setting?"inline-flex rounded-t-lg border-b-2 border-primary-color p-4 text-primary-color":"group inline-flex rounded-t-lg border-b-2 border-transparent p-4 hover:border-secondary-color hover:text-secondary-color"])},[e("span",null,[r(t(ae),{class:_([l.setting?"mr-2 h-5 w-5 text-primary-color":"mr-2 h-5 w-5 text-gray-700 group-hover:text-secondary-color"])},null,8,["class"])]),Ot],2)])])]),e("div",qt,[r(Z,{"enter-active-class":"transition duration-1000","enter-from-class":"opacity-0 translate-x-20","enter-to-class":"opacity-1 translate-x-0","leave-active-class":"transition duration-1000 absolute ease-out","leave-from-class":"opacity-1 translate-x-0","leave-to-class":" -translate-x-full opacity-0",mode:"out-in"},{default:M(()=>[l.ads?(o(),a("div",Gt,[r(tt,{"user-id":i.id},null,8,["user-id"])])):k("",!0),l.transaction?(o(),a("div",Wt,[r(ot)])):k("",!0),l.setting?(o(),a("div",Xt,[r(nt)])):k("",!0)]),_:1})])])):(o(),a("div",Jt,[r(bt,{"user-id":i.id},null,8,["user-id"])]))])}}};export{ds as default};
