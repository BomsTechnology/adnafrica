import{u as D,s as M,b as F,I as O,c as i,a as e,d as l,f as r,O as T,v as n,z as c,t as g,y as b,F as $,q as I,m as _,o as a,l as P}from"./app.4eaf8dc0.js";import{_ as j}from"./DropZone.ed4474f6.js";import{u as z}from"./announcementServices.887c6dd6.js";import{u as J}from"./categoryServices.efc14ec4.js";import{u as L}from"./currencyServices.da860c47.js";import{u as R}from"./countryServices.766f9053.js";import{u as G}from"./cityServices.927aac2d.js";import{_ as u}from"./SelectFilter.d9afc6a7.js";import"./index.959372bf.js";import"./index.62ff3478.js";import"./ChevronDownIcon.47424bbb.js";import"./ChevronUpIcon.8fc385af.js";const H={class:"h-full px-4 py-14 md:px-28"},K=e("h1",{class:"text-3xl font-bold"},"D\xE9poser une annonce",-1),Q={class:"mt-10 bg-white p-4 lg:p-8"},W={class:"grid w-full grid-cols-1 gap-4 lg:grid-cols-2"},X={class:"col-span-2"},Y=e("label",{for:"title",class:"mb-2 block text-sm font-medium text-gray-900"},"Title",-1),Z={class:"text-xs font-light text-gray-400"},ee={class:"col-span-2"},te=e("label",{for:"title",class:"mb-2 block text-sm font-medium text-gray-900"},"Cat\xE9gorie",-1),oe={class:"col-span-2 lg:col-span-1"},se=e("label",{for:"country",class:"mb-2 block text-sm font-medium text-gray-900"},"Pays",-1),re={class:"col-span-2 lg:col-span-1"},le=e("label",{for:"city",class:"mb-2 block text-sm font-medium text-gray-900"},"Ville",-1),ie={class:"col-span-2 lg:col-span-1"},ne=e("label",{for:"type",class:"mb-2 block text-sm font-medium text-gray-900"},"Type",-1),ae=e("option",{value:"offer"},"Offre",-1),de=e("option",{value:"request"},"demande",-1),ce=[ae,de],ue={class:"col-span-2 lg:col-span-1"},me=e("label",{for:"price",class:"mb-2 block text-sm font-medium text-gray-900"},"Prix",-1),pe={class:"flex items-center"},fe=["value"],ge={class:"col-span-2"},be=e("label",{for:"title",class:"mb-2 block text-sm font-medium text-gray-900"},"Images",-1),_e={class:"mt-1 w-full"},ye={class:"col-span-2 mt-4"},xe=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description ",-1),he={class:"mt-1"},we=e("p",{class:"mt-2 text-sm text-gray-500"}," Brief description for this ads. ",-1),ve={class:"mt-6"},ke={key:0,type:"button",disabled:"",class:"flex w-full transform items-center justify-center rounded-md bg-secondary-color px-4 py-2 tracking-wide text-white focus:outline-none"},Ve={key:1,type:"submit",class:"w-full transform rounded-md bg-primary-color px-4 py-2 text-sm tracking-wide text-white transition-colors duration-200 hover:bg-secondary-color focus:bg-primary-color focus:outline-none"},$e={__name:"CreateAds",setup(Ce){const d=D(),m=P(),{errors:p,loading:y,cleanErrors:x,createAnnouncement:h}=z(),{categories:w,getCategories:v}=J(),{cities:k,getCities:V}=G(),{countries:C,getCountries:S}=R(),{currencies:q,getCurrencies:N}=L(),o=M({user:JSON.stringify(d.user),country_id:"",category_id:"",city_id:"",currency_id:3,type:"offer",title:"",price:"",description:"",status:1,images:[]});F(async()=>{await v(),await S(),await V(),await N()});const U=O(()=>k.value.filter(f=>f.country.id==o.country_id));async function E(){await h({...o}),p.value.length!=0?m.replace({name:"create-ads",hash:"#errors"}):m.push({name:"account",params:{id:d.user.id,slug:d.user.slug}})}return(f,s)=>{const A=_("Error"),B=_("Spin");return a(),i("div",H,[K,e("div",Q,[l(A,{errors:r(p),onCleanErrors:r(x)},null,8,["errors","onCleanErrors"]),e("form",{onSubmit:s[9]||(s[9]=T(t=>E(),["prevent"]))},[e("div",W,[e("div",X,[Y,n(e("input",{type:"text",id:"title",required:"",maxlength:"50","onUpdate:modelValue":s[0]||(s[0]=t=>o.title=t),class:"block w-full rounded border border-gray-300 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"},null,512),[[c,o.title]]),e("span",Z,g(o.title.length)+" sur 50 Caract\xE8res",1)]),e("div",ee,[te,l(u,{modelValue:o.category_id,"onUpdate:modelValue":s[1]||(s[1]=t=>o.category_id=t),data:r(w),placeholder:"Select category",required:!0,subCategory:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),e("div",oe,[se,l(u,{modelValue:o.country_id,"onUpdate:modelValue":s[2]||(s[2]=t=>o.country_id=t),data:r(C),placeholder:"Select Country",required:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),e("div",re,[le,l(u,{modelValue:o.city_id,"onUpdate:modelValue":s[3]||(s[3]=t=>o.city_id=t),data:r(U),resetField:!0,placeholder:"Select City",required:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),e("div",ie,[ne,n(e("select",{id:"type","onUpdate:modelValue":s[4]||(s[4]=t=>o.type=t),required:"",class:"form-select block w-full rounded border border-gray-300 p-2.5 text-sm text-gray-900 focus:border-indigo-500 focus:ring-indigo-500"},ce,512),[[b,o.type]])]),e("div",ue,[me,e("div",pe,[n(e("input",{type:"price",id:"title",required:"","onUpdate:modelValue":s[5]||(s[5]=t=>o.price=t),class:"block w-4/5 rounded-l border border-gray-300 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"},null,512),[[c,o.price]]),n(e("select",{id:"currency",required:"","onUpdate:modelValue":s[6]||(s[6]=t=>o.currency_id=t),class:"form-select block w-1/5 rounded-r border border-gray-300 p-2.5 text-sm text-gray-900 focus:border-indigo-500 focus:ring-indigo-500"},[(a(!0),i($,null,I(r(q),t=>(a(),i("option",{key:t.id,value:t.id},g(t.symbol),9,fe))),128))],512),[[b,o.currency_id]])])]),e("div",ge,[be,e("div",_e,[l(j,{modelValue:o.images,"onUpdate:modelValue":s[7]||(s[7]=t=>o.images=t),multiple:!0},null,8,["modelValue"])])]),e("div",ye,[xe,e("div",he,[n(e("textarea",{id:"description","onUpdate:modelValue":s[8]||(s[8]=t=>o.description=t),rows:"5",required:"",class:"mt-1 block w-full rounded-md border border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:""},null,512),[[c,o.description]])]),we])]),e("div",ve,[r(y)==1?(a(),i("button",ke,[l(B)])):(a(),i("button",Ve," Enregistrer "))])],32)])])}}};export{$e as default};
