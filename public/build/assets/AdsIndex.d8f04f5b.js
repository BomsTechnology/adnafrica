import{o as a,c,a as e,s as B,I as L,b as U,d as l,e as f,f as s,v as h,z as $,W as w,X as D,F,q as H,m as p,t as n,j as I}from"./app.4eaf8dc0.js";import{u as T}from"./announcementServices.887c6dd6.js";import{u as q}from"./categoryServices.efc14ec4.js";import{_ as O}from"./SelectFilter.d9afc6a7.js";import{r as P}from"./TrashIcon.4c73878a.js";import"./index.959372bf.js";import"./index.62ff3478.js";import"./ChevronDownIcon.47424bbb.js";import"./ChevronUpIcon.8fc385af.js";function R(v,_){return a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 9a.75.75 0 00-1.5 0v2.25H9a.75.75 0 000 1.5h2.25V15a.75.75 0 001.5 0v-2.25H15a.75.75 0 000-1.5h-2.25V9z","clip-rule":"evenodd"})])}const W={class:"h-full p-8"},X=e("h1",{class:"text-3xl font-bold"},"Ads",-1),G={class:"mt-4 flex items-center justify-end border-b border-gray-200 px-2 py-3"},J=e("span",null,"Add Ads",-1),K={class:"relative w-full overflow-x-auto bg-white shadow-md sm:rounded-lg"},Q={class:"items-center justify-between p-4 lg:flex"},Y={class:"mt-1 items-center space-y-1 lg:flex lg:space-y-0 lg:space-x-2"},Z=e("label",{for:"table-search",class:"sr-only"},"Search",-1),ee={class:"relative"},te=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"dark:text-gray-400 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),se={class:""},oe={class:"mt-1 flex justify-end lg:mt-0 lg:block"},re=e("span",{class:"hidden text-sm font-thin lg:block"},"Supprimer",-1),le={class:"dark:text-gray-400 w-full text-left text-sm text-gray-500"},ae={class:"dark:bg-gray-700 dark:text-gray-400 bg-gray-50 text-xs uppercase text-gray-700"},ce={scope:"col",class:"p-4"},de={class:"flex items-center"},ne=e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox",-1),ie=e("th",{scope:"col",class:"px-6 py-3"},"Ads title",-1),ue=e("th",{scope:"col",class:"px-6 py-3"},"Category",-1),he=e("th",{scope:"col",class:"px-6 py-3"},"Country",-1),pe=e("th",{scope:"col",class:"px-6 py-3"},"Price",-1),_e=e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Edit")],-1),ge={key:0},xe={colspan:"6"},ye={class:"flex w-full items-center justify-center p-3 text-center"},be={class:"w-4 p-4"},me={class:"flex items-center"},fe=["onUpdate:modelValue","onChange"],we=e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox",-1),ve={scope:"row",class:"whitespace-nowrap px-6 py-4 font-medium text-gray-900"},ke={class:"px-6 py-4"},Ce={class:"px-6 py-4"},Ae=["src","alt"],Ve={class:"px-6 py-4"},Se={class:"px-6 py-4 text-right"},je=I("view"),Ee={key:2},Me=e("td",{colspan:"6",class:"p-3 text-center text-2xl font-bold"},[e("span",null,"NO ADS")],-1),Ne=[Me],Te={__name:"AdsIndex",setup(v){const{categories:_,getCategories:k}=q(),{chks:g,chkAll:i,errors:C,loading:A,checkAll:V,cleanErrors:S,announcements:x,getAnnouncements:j,deleteAnnouncements:E,toogleDeleteArray:M}=T(),r=B({words:"",category:""}),y=L(()=>r.category?x.value.filter(d=>d.title.toLowerCase().includes(r.words.toLowerCase()&&d.category.id==r.category)):x.value.filter(d=>d.title.toLowerCase().includes(r.words.toLowerCase())));return U(async()=>{await j(),await k()}),(d,o)=>{const b=p("router-link"),N=p("Error"),z=p("Spin");return a(),c("div",W,[X,e("div",G,[l(b,{to:{name:"admin.ads.create"},class:"flex items-end space-x-2 rounded bg-primary-color px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-secondary-color focus:outline-none focus:ring-4 focus:ring-blue-300"},{default:f(()=>[l(s(R),{class:"h-5 w-5"}),J]),_:1},8,["to"])]),l(N,{errors:s(C),onCleanErrors:s(S)},null,8,["errors","onCleanErrors"]),e("div",K,[e("div",Q,[e("div",Y,[Z,e("div",ee,[te,h(e("input",{type:"search",id:"table-search","onUpdate:modelValue":o[0]||(o[0]=t=>r.words=t),class:"dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500 block w-full rounded border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 lg:w-80",placeholder:"Search for items"},null,512),[[$,r.words]])]),e("div",se,[l(O,{modelValue:r.category,"onUpdate:modelValue":o[1]||(o[1]=t=>r.category=t),data:s(_),placeholder:"Select category",subCategory:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])])]),e("div",oe,[e("button",{type:"button",title:"delete",onClick:o[2]||(o[2]=t=>s(E)()),class:"flex items-center justify-between space-x-2 rounded border border-red-500 p-2 text-red-500 hover:bg-red-500 hover:text-white"},[l(s(P),{class:"h-6 w-6"}),re])])]),e("table",le,[e("thead",ae,[e("tr",null,[e("th",ce,[e("div",de,[h(e("input",{onChange:o[3]||(o[3]=t=>s(V)()),"onUpdate:modelValue":o[4]||(o[4]=t=>D(i)?i.value=t:null),id:"checkbox-all-search",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500"},null,544),[[w,s(i)]]),ne])]),ie,ue,he,pe,_e])]),e("tbody",null,[s(A)==1?(a(),c("tr",ge,[e("td",xe,[e("div",ye,[l(z,{width:"w-10",height:"h-10",color:"text-primary-color"})])])])):s(y).length!=0?(a(!0),c(F,{key:1},H(s(y),(t,u)=>(a(),c("tr",{key:t.id,class:"border-b bg-white hover:bg-gray-50"},[e("td",be,[e("div",me,[h(e("input",{"onUpdate:modelValue":m=>s(g)[u].value=m,onChange:m=>s(M)(u),id:"checkbox-table-search-1",type:"checkbox",class:"-600 h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500"},null,40,fe),[[w,s(g)[u].value]]),we])]),e("th",ve,n(t.title),1),e("td",ke,n(t.category.name),1),e("td",Ce,[e("img",{src:t.country.image,alt:t.country.name,class:"h-5 w-8 object-cover"},null,8,Ae)]),e("td",Ve,n(t.price)+" "+n(t.currency.symbol),1),e("td",Se,[l(b,{to:{name:"ads.single",params:{id:t.id,slug:t.slug}},class:"dark:text-blue-500 font-medium text-blue-600 hover:underline"},{default:f(()=>[je]),_:2},1032,["to"])])]))),128)):(a(),c("tr",Ee,Ne))])])])])}}};export{Te as default};
