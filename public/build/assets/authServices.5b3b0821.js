import{r as i,N as n,l as c}from"./app.4eaf8dc0.js";function h(){const l=i([]),r=i([]),s=i(0);return c(),{sendEmailVerification:async t=>{r.value=[];try{s.value=1,await n.post("/api/send-verification-email",t),s.value=0}catch(a){if(a.response.status==422)for(const o in e.response.data.errors)r.value.push(e.response.data.errors[o][0]);else r.value=a.response.data.message;s.value=0}},sendSmsVerification:async t=>{r.value=[];try{s.value=1,await n.post("/api/send-verification-sms",t),s.value=0}catch(a){if(a.response.status==422)for(const o in e.response.data.errors)r.value.push(e.response.data.errors[o][0]);else r.value=a.response.data.message;s.value=0}},createUser:async t=>{r.value=[];try{s.value=1;let a=await n.post("/api/register",t);l.value=a.data.data,localStorage.user=JSON.stringify(a.data.data.user),localStorage.tokenUser=a.data.data.token,localStorage.recent_search=a.data.data.recent_search,s.value=2}catch(a){if(s.value=0,a.response.status==422)for(const o in a.response.data.errors)r.value.push(a.response.data.errors[o][0])}},errors:r,loading:s,user:l,loginUser:async t=>{r.value=[];try{s.value=1;let a=await n.post("/api/login",t);l.value=a.data.data,localStorage.user=JSON.stringify(a.data.data.user),localStorage.tokenUser=a.data.data.token,localStorage.recent_search=a.data.data.recent_search,s.value=2}catch(a){s.value=0,r.value=a.response.data.message}},cleanErrors:()=>{r.value=[]},loginAdmin:async t=>{r.value=[];try{s.value=1;let a=await n.post("/api/login-admin",t);localStorage.user=JSON.stringify(a.data.data.user),localStorage.tokenUser=a.data.data.token,localStorage.recent_search=a.data.data.recent_search,s.value=2}catch{s.value=0,r.value="invalid email or password"}}}}export{h as u};
