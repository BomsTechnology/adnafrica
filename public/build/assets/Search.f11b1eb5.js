import{o,c as l,a as t,k as S,F as p,q as w,d as c,f as e,n as u,p as E,u as K,b as G,w as I,e as k,i as J,h as $,j as q,t as a,g as f,v as A,x as D,m as O}from"./app.4eaf8dc0.js";import{r as V,u as P,_ as Q,a as T}from"./SearchSection.76972b7c.js";import{r as N}from"./HeartIcon.c3e4eab3.js";import{r as U}from"./XMarkIcon.a868bfef.js";import{r as B}from"./ChevronRightIcon.31446942.js";import{r as W}from"./MapPinIcon.b740d8ae.js";import"./index.62ff3478.js";import"./categoryServices.efc14ec4.js";import"./index.959372bf.js";import"./RectangleStackIcon.44f93839.js";import"./ChevronDownIcon.47424bbb.js";import"./MagnifyingGlassIcon.a5535f89.js";function X(v,y){return o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M3 2.25a.75.75 0 000 1.5v16.5h-.75a.75.75 0 000 1.5H15v-18a.75.75 0 000-1.5H3zM6.75 19.5v-2.25a.75.75 0 01.75-.75h3a.75.75 0 01.75.75v2.25a.75.75 0 01-.75.75h-3a.75.75 0 01-.75-.75zM6 6.75A.75.75 0 016.75 6h.75a.75.75 0 010 1.5h-.75A.75.75 0 016 6.75zM6.75 9a.75.75 0 000 1.5h.75a.75.75 0 000-1.5h-.75zM6 12.75a.75.75 0 01.75-.75h.75a.75.75 0 010 1.5h-.75a.75.75 0 01-.75-.75zM10.5 6a.75.75 0 000 1.5h.75a.75.75 0 000-1.5h-.75zm-.75 3.75A.75.75 0 0110.5 9h.75a.75.75 0 010 1.5h-.75a.75.75 0 01-.75-.75zM10.5 12a.75.75 0 000 1.5h.75a.75.75 0 000-1.5h-.75zM16.5 6.75v15h5.25a.75.75 0 000-1.5H21v-12a.75.75 0 000-1.5h-4.5zm1.5 4.5a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008zm.75 2.25a.75.75 0 00-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 00.75-.75v-.008a.75.75 0 00-.75-.75h-.008zM18 17.25a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z","clip-rule":"evenodd"})])}function Y(v,y){return o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M3.792 2.938A49.069 49.069 0 0112 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 011.541 1.836v1.044a3 3 0 01-.879 2.121l-6.182 6.182a1.5 1.5 0 00-.439 1.061v2.927a3 3 0 01-1.658 2.684l-1.757.878A.75.75 0 019.75 21v-5.818a1.5 1.5 0 00-.44-1.06L3.13 7.938a3 3 0 01-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836z","clip-rule":"evenodd"})])}const Z={class:"animate-pulse"},ee=t("div",{class:"flex items-center space-x-2"},[t("div",{class:"mb-4 h-2.5 w-52 rounded-full bg-gray-200"}),t("div",{class:"mb-4 h-2.5 w-36 rounded-full bg-gray-200"})],-1),te={class:"relative h-36 w-full overflow-hidden rounded-t-lg lg:h-full lg:w-60 lg:rounded-l-lg lg:rounded-tr-none"},se={class:"flex h-full grow justify-between px-4"},oe=E('<div class="flex h-full flex-col justify-between py-2"><div class="mb-4 h-2.5 w-60 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-32 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-48 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-96 rounded-full bg-gray-200"></div></div>',1),le={class:"flex h-full items-end py-4"},re={class:"flex h-10 w-10 items-center justify-center rounded-full bg-white shadow"},ae={__name:"SKSearchAds",setup(v){const y=S(),m=[1,2,3];return(d,b)=>(o(),l("div",Z,[ee,t("div",{class:u([e(y).query.gender=="ads"?"grid-cols-2 gap-4 space-y-4 py-8 lg:grid lg:space-y-0 lg:px-3":"space-y-4 py-8 lg:px-3"])},[(o(),l(p,null,w(m,_=>t("div",{key:_,class:"w-full items-center rounded-lg border bg-gray-100 shadow lg:flex lg:h-36"},[t("div",te,[c(e(V),{class:"h-full w-full text-gray-200"})]),t("div",se,[oe,t("div",le,[t("div",re,[c(e(N),{class:"h-7 w-7 bg-transparent text-gray-200"})])])])])),64))],2)]))}},de={class:"animate-pulse"},ne=t("div",{class:"mb-4 h-2.5 w-52 rounded-full bg-gray-200"},null,-1),ie=t("div",{class:"mb-4 h-2.5 w-36 rounded-full bg-gray-200"},null,-1),ce=[ne,ie],ue={class:"h-32 w-32 overflow-hidden"},ge=t("div",{class:"mb-4 h-2.5 w-52 rounded-full bg-gray-200"},null,-1),he=t("div",{class:"mb-4 h-2.5 w-52 rounded-full bg-gray-200"},null,-1),ye={__name:"SKSearchCompany",setup(v){const y=S(),m=[1,2,3];return(d,b)=>(o(),l("div",de,[t("div",{class:u([e(y).query.gender=="company"?"flex items-center justify-start space-x-2":"flex items-center justify-end space-x-2"])},ce,2),t("div",{class:u([e(y).query.gender=="company"?"grid grid-cols-1 gap-4 py-8 md:grid-cols-2 lg:grid-cols-4 lg:px-3":"grid grid-cols-1 gap-4 py-8 lg:grid-cols-2 lg:px-3"])},[(o(),l(p,null,w(m,_=>t("div",{key:_,class:"flex h-60 flex-col items-center justify-center rounded bg-gray-100 shadow"},[t("div",ue,[c(e(V),{class:"h-full w-full text-gray-200"})]),ge,he])),64))],2)]))}},fe={class:"my-4 w-full"},pe={class:"-mt-4 flex justify-center"},_e=t("span",null,"Tous les filtres",-1),xe={key:0,class:"z-10 float-right flex h-full w-5/6 flex-col bg-white md:w-2/3 lg:w-1/3"},we={class:"flex items-center justify-between border-b py-2 px-6"},ve=t("h1",{class:"text-sm font-semibold text-gray-500 lg:text-lg"}," Tous les filtres ",-1),me={key:0,ref:"categoryModal",class:"h-full w-full overflow-y-auto rounded-md bg-white"},be={class:"p-2"},ke=["onClick"],$e={class:"p-2"},qe=["onClick"],Ce={key:1,class:"h-full w-full space-y-2 overflow-y-auto py-4 px-6"},je={class:""},Se=t("h1",{class:"mb-2 font-bold text-gray-700 lg:text-lg"}," Cat\xE9gorie ",-1),ze={class:"rounded-full bg-secondary-color py-1 px-3 text-xs font-semibold text-white lg:text-sm"},Me={key:0},Ae={key:1},De={key:2,class:"flex h-20 w-full items-center justify-between border-t px-4"},Te=t("button",{class:"rounded border border-gray-600 bg-white py-2 px-3 text-sm text-gray-800 lg:text-lg"}," Tout Effacer ",-1),Be=t("button",{class:"rounded bg-primary-color py-2 px-3 text-sm text-white lg:text-lg"}," Rechercher ",-1),Ve=[Te,Be],Ne={class:"space-y-6 py-14 px-4 md:px-28 lg:flex lg:space-y-0"},Fe={key:1},He={key:0,class:"font-bold text-gray-800 underline decoration-primary-color underline-offset-4 md:text-xl"},Le={key:0},Re={key:1},Ee=q(" ) "),Ke=["src"],Ge={class:"absolute bottom-2 right-4 flex h-6 w-6 items-center justify-center rounded-full bg-black/50 text-sm text-white shadow"},Ie={class:"flex h-full grow justify-between px-4"},Je={class:"whitespace-normal text-sm font-bold leading-5 lg:text-lg"},Oe={class:"whitespace-normal text-sm font-semibold text-gray-800 lg:text-lg"},Pe={class:"text-xs font-light text-gray-400"},Qe={class:"flex items-center space-x-2"},Ue={key:0},We=["src","alt"],Xe={class:"flex h-full items-end py-4"},Ye={type:"button",title:"Ajouter/Retirer aux favoris",class:"flex h-10 w-10 items-center justify-center rounded-full bg-white shadow hover:scale-95 hover:bg-pink-300 focus:bg-pink-300"},Ze={key:1,class:"flex w-full flex-col items-center justify-center"},et=t("h1",{class:"text-xl font-semibold"},"Aucun R\xE9sultat",-1),tt=t("img",{src:"/images/icone/no_data.png",class:"h-32 lg:h-96",alt:""},null,-1),st=[et,tt],ot={key:1},lt={key:0},rt={key:1},at=q(" ) "),dt={class:"border border-gray-200 p-2"},nt={class:"h-32 w-32 overflow-hidden"},it=["src"],ct={class:"mt-2 font-bold"},ut={class:"mt-1 flex items-center space-x-1 text-xs font-light text-gray-500"},gt={key:1,class:"col-span-4 flex flex-col items-center justify-center"},ht=t("h1",{class:"text-xl font-semibold"},"Aucun R\xE9sultat",-1),yt=t("img",{src:"/images/icone/no_data.png",class:"h-32 lg:h-96",alt:""},null,-1),ft=[ht,yt],zt={__name:"Search",setup(v){const{mount:y,searchData:m,searchResult:d,searching:b,saveRecentSearch:_,showCategory:g,selectCategory:n,selectedCategory:F,selectedSubCategory:C,returnCategory:H,categories:L,errors:pt,loading:z}=P(),x=K(),r=S();G(async()=>{await y({gender:r.query.gender,type:r.query.type,keywords:r.query.keywords,category:r.query.category,location:r.query.location}),await b(),console.log(d.value),x.user&&x.token&&r.query.category!="all"&&await _(x.user.id,r.query.category)}),I(r,async(h,i)=>{await y({gender:h.query.gender,type:h.query.type,keywords:h.query.keywords,category:h.query.category,location:h.query.location}),await b(),x.user&&x.token&&h.query.category!="all"&&await _(x.user.id,h.query.category)});function M(h){return h.toString().padStart(2,"0")}return(h,i)=>{const j=O("router-link");return o(),l(p,null,[t("div",fe,[c(Q,{gender:e(r).query.gender,type:e(r).query.type,keywords:e(r).query.keywords,category:e(r).query.category,location:e(r).query.location},null,8,["gender","type","keywords","category","location"]),t("div",pe,[t("button",{type:"button",onClick:i[0]||(i[0]=s=>e(g).filter=!0),class:"flex items-center space-x-2 rounded-full bg-primary-color py-1 px-3 text-sm text-white shadow transition-all hover:bg-secondary-color hover:shadow-xl lg:text-lg"},[t("span",null,[c(e(Y),{class:"h-4 w-4 text-white lg:h-6 lg:w-6"})]),_e])])]),t("div",{class:u([e(g).filter?"fixed top-0 z-50 h-screen w-full bg-black/25":"hidden transition-all duration-500"])},[c(J,{"enter-active-class":"transition duration-500","enter-from-class":"opacity-0 translate-x-full","enter-to-class":"opacity-1 translate-x-0","leave-active-class":"transition duration-500","leave-from-class":"opacity-1 translate-x-0","leave-to-class":"opacity-0 translate-x-full"},{default:k(()=>[e(g).filter?(o(),l("div",xe,[t("div",we,[e(g).modal?(o(),l("button",{key:0,type:"button",onClick:i[1]||(i[1]=s=>e(g).modal=!1),class:"group rounded p-2 transition-colors hover:bg-primary-color"},[c(e(T),{class:"h-5 w-5 text-primary-color group-hover:text-white lg:h-7 lg:w-7"})])):(o(),l("button",{key:1,type:"button",onClick:i[2]||(i[2]=s=>e(g).filter=!1),class:"group rounded p-2 text-sm transition-colors hover:bg-primary-color"},[c(e(U),{class:"h-5 w-5 text-gray-500 group-hover:text-white lg:h-7 lg:w-7"})])),ve]),e(g).modal?(o(),l("div",me,[A(t("div",be,[t("button",{onClick:i[3]||(i[3]=s=>e(C)("all")),type:"button",class:u([e(n).subCategory=="all"?"block w-full whitespace-nowrap rounded bg-secondary-color/25 p-2 text-left font-bold text-primary-color hover:bg-secondary-color hover:text-white":"block w-full whitespace-nowrap rounded p-2 text-left hover:bg-secondary-color hover:font-bold hover:text-white"])}," Toutes Cat\xE9gories ",2),(o(!0),l(p,null,w(e(L),s=>(o(),l("button",{type:"button",key:s.id,onClick:R=>e(F)(s),class:u([e(n).subCategory!="all"&&e(n).category!=null&&e(n).category.id==s.id?"group flex w-full justify-between rounded bg-secondary-color/25 p-2 text-left font-bold text-primary-color hover:bg-secondary-color hover:text-white":" group flex w-full justify-between rounded p-2 text-left hover:bg-secondary-color hover:text-white"])},[t("span",null,a(s.name),1),t("span",null,[c(e(B),{class:"h-5 w-5 stroke-secondary-color text-white"})])],10,ke))),128))],512),[[D,e(g).category]]),A(t("div",$e,[t("button",{type:"button",onClick:i[4]||(i[4]=s=>e(H)()),class:"mb-4 block w-auto rounded bg-secondary-color p-2 text-white"},[c(e(T),{class:"h-5 w-5"})]),e(n).category?(o(),l("button",{key:0,onClick:i[5]||(i[5]=s=>e(C)(e(n).category)),type:"button",class:u([e(n).subCategory.id==e(n).category.id?"block w-full whitespace-nowrap rounded bg-secondary-color/25 p-2 text-left font-bold text-primary-color hover:bg-secondary-color hover:text-white":"block w-full whitespace-nowrap rounded p-2 text-left hover:bg-secondary-color hover:font-bold hover:text-white"])},a(e(n).category.name),3)):f("",!0),e(n).category&&e(n).category.children.length!=0?(o(!0),l(p,{key:1},w(e(n).category.children,s=>(o(),l("button",{onClick:R=>e(C)(s),key:s.id,type:"button",class:u([e(n).subCategory.id==s.id?"block w-full whitespace-nowrap rounded bg-secondary-color/25 p-2 text-left font-bold text-primary-color hover:bg-secondary-color hover:text-white":"block w-full whitespace-nowrap rounded p-2 text-left hover:bg-secondary-color hover:font-bold hover:text-white"])},a(s.name),11,qe))),128)):f("",!0)],512),[[D,e(g).subCategory]])],512)):(o(),l("div",Ce,[t("div",{onClick:i[6]||(i[6]=s=>e(g).modal=!e(g).modal),class:"flex cursor-pointer items-center justify-between border-b-2 pt-4 pb-6"},[t("div",je,[Se,t("h2",ze,[e(n).subCategory=="all"?(o(),l("span",Me," Toutes Cat\xE9gories ")):(o(),l("span",Ae,a(e(n).subCategory.name),1))])]),t("div",null,[c(e(B),{class:"h-6 w-6 text-primary-color lg:h-8 lg:w-8"})])])])),e(g).modal?f("",!0):(o(),l("div",De,Ve))])):f("",!0)]),_:1})],2),t("section",Ne,[e(r).query.gender=="ads"||e(r).query.gender=="all"?(o(),l("div",{key:0,class:u([e(r).query.gender=="ads"?"w-full":"w-full lg:w-1/2 lg:border-r"])},[e(z)!=2?(o(),$(ae,{key:0})):(o(),l("div",Fe,[e(d).ads?(o(),l("h1",He,[q(" Annonces ( "+a(e(d).ads.length)+" ",1),e(d).ads.length>1?(o(),l("span",Le,"r\xE9sultats")):(o(),l("span",Re,"r\xE9sultat")),Ee])):f("",!0),t("div",{class:u([[e(r).query.gender=="ads"?"grid-cols-2  gap-4 space-y-4 py-8 lg:grid lg:space-y-0 lg:px-3":"space-y-4 py-8 lg:px-3"],""])},[e(d).ads&&e(d).ads.length>=1?(o(!0),l(p,{key:0},w(e(d).ads,s=>(o(),l("div",{key:s.id,class:"h-full w-full items-center rounded-lg border bg-white shadow lg:flex lg:h-36"},[c(j,{to:{name:"ads.single",params:{id:s.id,slug:s.slug}},class:"relative h-full overflow-hidden"},{default:k(()=>[t("img",{src:s.images[0].path,class:"h-36 w-full rounded-t-lg bg-cover object-cover lg:h-full lg:w-60 lg:rounded-l-lg lg:rounded-tr-none",alt:""},null,8,Ke),t("div",Ge,a(s.images.length),1)]),_:2},1032,["to"]),t("div",Ie,[c(j,{to:{name:"ads.single",params:{id:s.id,slug:s.slug}},class:"flex h-full flex-col justify-between py-2"},{default:k(()=>[t("div",null,[t("h1",Je,a(s.title),1),t("h6",Oe,a(s.price.toLocaleString("FR"))+" "+a(s.currency.symbol),1)]),t("div",Pe,[t("h6",Qe,[t("span",null,a(s.category.name),1),s.country?(o(),l("span",Ue,[t("img",{src:s.country.image,alt:s.country.name,class:"h-3 w-4 object-cover"},null,8,We)])):f("",!0)]),t("h6",null,a(s.city.name)+" "+a(s.country.name)+" - "+a(new Date(s.date).toLocaleDateString("fr-FR",{day:"numeric",year:"numeric",month:"long"}))+" \xE0 "+a(`${M(new Date(s.date).getHours())}h${M(new Date(s.date).getMinutes())}`),1)])]),_:2},1032,["to"]),t("div",Xe,[t("button",Ye,[c(e(N),{class:"h-7 w-7 bg-transparent text-pink-500"})])])])]))),128)):(o(),l("div",Ze,st))],2)]))],2)):f("",!0),e(r).query.gender=="company"||e(r).query.gender=="all"?(o(),l("div",{key:1,class:u([e(r).query.gender=="company"?"w-full":"w-full lg:w-1/2 lg:border-l"])},[e(z)!=2?(o(),$(ye,{key:0})):(o(),l("div",ot,[e(d).company?(o(),l("h1",{key:0,class:u([e(r).query.gender=="company"?"font-bold text-gray-800 underline decoration-primary-color underline-offset-4 md:text-xl lg:text-left":"font-bold text-gray-800 underline decoration-primary-color underline-offset-4 md:text-xl lg:text-right"])},[q(" Annuaires ( "+a(e(d).company.length)+" ",1),e(d).company.length>1?(o(),l("span",lt,"r\xE9sultats")):(o(),l("span",rt,"r\xE9sultat")),at],2)):f("",!0),t("div",{class:u([e(r).query.gender=="company"?"grid grid-cols-1 gap-4 py-8 md:grid-cols-2 lg:grid-cols-4 lg:px-3":"grid grid-cols-1 gap-4 py-8 lg:grid-cols-2 lg:px-3"])},[e(d).company&&e(d).company.length>=1?(o(!0),l(p,{key:0},w(e(d).company,s=>(o(),$(j,{key:s.id,to:{name:"company",params:{id:s.id,slug:s.slug}},class:"flex h-60 flex-col items-center justify-center rounded bg-white shadow"},{default:k(()=>[t("div",dt,[t("div",nt,[s.avatar!="/images/icone/default_avatar.svg"?(o(),l("img",{key:0,src:s.avatar,alt:"",class:"h-full w-full object-cover"},null,8,it)):(o(),$(e(X),{key:1,class:"h-full w-full text-gray-500"}))])]),t("h1",ct,a(s.firstname),1),t("h4",ut,[c(e(W),{class:"h-4 w-4"}),t("span",null,a(s.location),1)])]),_:2},1032,["to"]))),128)):(o(),l("div",gt,ft))],2)]))],2)):f("",!0)])],64)}}};export{zt as default};
