import{u as B,s as M,b as D,I as F,c as l,a as e,d as i,f as r,O,v as n,z as a,y as f,F as T,q as $,m as g,o as d,t as I,l as j}from"./app.4eaf8dc0.js";import{_ as z}from"./DropZone.ed4474f6.js";import{u as J}from"./announcementServices.887c6dd6.js";import{u as L}from"./categoryServices.efc14ec4.js";import{u as P}from"./currencyServices.da860c47.js";import{u as R}from"./countryServices.766f9053.js";import{u as G}from"./cityServices.927aac2d.js";import{_ as c}from"./SelectFilter.d9afc6a7.js";import"./index.959372bf.js";import"./index.62ff3478.js";import"./ChevronDownIcon.47424bbb.js";import"./ChevronUpIcon.8fc385af.js";const H={class:"h-full p-8"},K=e("h1",{class:"text-3xl font-bold"},"Create Ads",-1),Q={class:"mt-10 bg-white p-4 lg:p-8"},W={class:"grid w-full grid-cols-1 gap-4 lg:grid-cols-2"},X={class:"col-span-2"},Y=e("label",{for:"title",class:"mb-2 block text-sm font-medium text-gray-900"},"Title",-1),Z={class:"col-span-2"},ee=e("label",{for:"title",class:"mb-2 block text-sm font-medium text-gray-900"},"Category",-1),te={class:"col-span-2 lg:col-span-1"},oe=e("label",{for:"country",class:"mb-2 block text-sm font-medium text-gray-900"},"Country",-1),se={class:"col-span-2 lg:col-span-1"},re=e("label",{for:"city",class:"mb-2 block text-sm font-medium text-gray-900"},"City",-1),ie={class:"col-span-2 lg:col-span-1"},le=e("label",{for:"type",class:"mb-2 block text-sm font-medium text-gray-900"},"Type",-1),ne=e("option",{value:"offer"},"Offre",-1),de=e("option",{value:"request"},"demande",-1),ae=[ne,de],ce={class:"col-span-2 lg:col-span-1"},ue=e("label",{for:"price",class:"mb-2 block text-sm font-medium text-gray-900"},"Price",-1),me={class:"flex items-center"},pe=["value"],fe={class:"col-span-2"},ge=e("label",{for:"title",class:"mb-2 block text-sm font-medium text-gray-900"},"Images",-1),be={class:"mt-1 w-full"},ye={class:"col-span-2 mt-4"},_e=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description ",-1),xe={class:"mt-1"},he=e("p",{class:"mt-2 text-sm text-gray-500"}," Brief description for this ads. ",-1),we={class:"mt-6"},ve={key:0,type:"button",disabled:"",class:"flex w-full transform items-center justify-center rounded-md bg-secondary-color px-4 py-2 tracking-wide text-white focus:outline-none"},ke={key:1,type:"submit",class:"w-full transform rounded-md bg-primary-color px-4 py-2 text-sm tracking-wide text-white transition-colors duration-200 hover:bg-secondary-color focus:bg-primary-color focus:outline-none"},Te={__name:"AdsCreate",setup(Ce){const b=B(),u=j(),{errors:m,loading:y,cleanErrors:_,createAnnouncement:x}=J(),{categories:h,getCategories:w}=L(),{cities:v,getCities:k}=G(),{countries:C,getCountries:V}=R(),{currencies:S,getCurrencies:q}=P(),o=M({user:JSON.stringify(b.user),country_id:"",category_id:"",city_id:"",currency_id:3,type:"offer",title:"",price:"",description:"",status:1,images:[]});D(async()=>{await w(),await V(),await k(),await q()});const N=F(()=>v.value.filter(p=>p.country.id==o.country_id));async function U(){await x({...o}),m.value.length!=0?u.replace({name:"admin.ads.create",hash:"#errors"}):u.push({name:"admin.ads.index"})}return(p,s)=>{const A=g("Error"),E=g("Spin");return d(),l("div",H,[K,e("div",Q,[i(A,{errors:r(m),onCleanErrors:r(_)},null,8,["errors","onCleanErrors"]),e("form",{onSubmit:s[9]||(s[9]=O(t=>U(),["prevent"]))},[e("div",W,[e("div",X,[Y,n(e("input",{type:"text",id:"title",required:"","onUpdate:modelValue":s[0]||(s[0]=t=>o.title=t),class:"block w-full rounded border border-gray-300 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,o.title]])]),e("div",Z,[ee,i(c,{modelValue:o.category_id,"onUpdate:modelValue":s[1]||(s[1]=t=>o.category_id=t),data:r(h),placeholder:"Select category",required:!0,subCategory:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),e("div",te,[oe,i(c,{modelValue:o.country_id,"onUpdate:modelValue":s[2]||(s[2]=t=>o.country_id=t),data:r(C),placeholder:"Select Country",required:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),e("div",se,[re,i(c,{modelValue:o.city_id,"onUpdate:modelValue":s[3]||(s[3]=t=>o.city_id=t),data:r(N),resetField:!0,placeholder:"Select City",required:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),e("div",ie,[le,n(e("select",{id:"type","onUpdate:modelValue":s[4]||(s[4]=t=>o.type=t),required:"",class:"form-select block w-full rounded border border-gray-300 p-2.5 text-sm text-gray-900 focus:border-indigo-500 focus:ring-indigo-500"},ae,512),[[f,o.type]])]),e("div",ce,[ue,e("div",me,[n(e("input",{type:"price",id:"title",required:"","onUpdate:modelValue":s[5]||(s[5]=t=>o.price=t),class:"block w-4/5 rounded-l border border-gray-300 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,o.price]]),n(e("select",{id:"currency",required:"","onUpdate:modelValue":s[6]||(s[6]=t=>o.currency_id=t),class:"form-select block w-1/5 rounded-r border border-gray-300 p-2.5 text-sm text-gray-900 focus:border-indigo-500 focus:ring-indigo-500"},[(d(!0),l(T,null,$(r(S),t=>(d(),l("option",{key:t.id,value:t.id},I(t.symbol),9,pe))),128))],512),[[f,o.currency_id]])])]),e("div",fe,[ge,e("div",be,[i(z,{modelValue:o.images,"onUpdate:modelValue":s[7]||(s[7]=t=>o.images=t),multiple:!0},null,8,["modelValue"])])]),e("div",ye,[_e,e("div",xe,[n(e("textarea",{id:"description","onUpdate:modelValue":s[8]||(s[8]=t=>o.description=t),rows:"5",required:"",class:"mt-1 block w-full rounded-md border border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:""},null,512),[[a,o.description]])]),he])]),e("div",we,[r(y)==1?(d(),l("button",ve,[i(E)])):(d(),l("button",ke," Save "))])],32)])])}}};export{Te as default};
